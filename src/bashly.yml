name: ges-tool
help: CLI for GCP GenAI App Builder Enterprise Search.  
version: 0.1.0

environment_variables:
- name: gcp_project_number
  required: true
  help: Set your GCP Enterprise Search Project Number (not project id)
- name: datastore_name
  required: true
  help: Data Store name of the format <data_store>_<some_number>"

commands:
- name: install-dependencies
  alias: i
  help: Install dependent tools

- name: usearch
  alias: s
  help: Perform a single unstructured search query

  args:
  - name: query 
    required: true
    help: search query string
  - name: page_size 
    required: false
    default: "5"
    help: Number of results to per page. default is 5
  
  flags:
  - long: --minimal
    short: -m
    help: only show the minumum fields
  - long: --csv
    short: -c
    help: output to csv 
 
     
- name: batch-search
  alias: b
  help: Perform a bath search using external file that outputs to csv

  args:
  - name: input_file
    required: true
    help: file name containing queries
  - name: output_file
    required: true
    help: file name containing output 
  - name: page_size 
    required: false
    default: "5"
    help: Number of results to per page. default is 5

examples: |-
    Single search with csv output. Only shows the summary and first document link
    $ ./ges-tool s "What is the interest rate?" -c

    Single search with table output. Only shows the summary and first document link
    $ ./ges-tool s "What is the interest rate?" -m

     Single search with raw json output
    $ ./ges-tool s "What is the interest rate?" 

    Batch search with input file containing search queries and output a csv file with results. Only shows the summary and first document link
    $ ./ges-tool b search_terms.txt results_file.csv
